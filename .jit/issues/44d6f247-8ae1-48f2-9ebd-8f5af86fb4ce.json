{
  "id": "44d6f247-8ae1-48f2-9ebd-8f5af86fb4ce",
  "title": "Add API endpoint for label configuration and use in Web UI",
  "description": "The Web UI currently hardcodes strategic_types as ['milestone', 'epic']. This should be fetched from the backend API to allow repository-specific configuration.\n\n## Context\n\n**Related Work**: Config consolidation (bac2a42b) is complete:\n- ✅ Created ConfigManager for centralized config loading from config.toml\n- ✅ Removed labels.json entirely (breaking change, no backward compatibility)\n- ✅ All configuration now in .jit/config.toml with schema v2\n- ✅ Validation rules implemented (default_type, require_type_label, etc.)\n\n## Backend Work\n\n**Use ConfigManager (NOT labels.json)**:\n```rust\nuse jit::config_manager::ConfigManager;\n\nlet config_mgr = ConfigManager::new(&jit_root);\nlet namespaces = config_mgr.get_namespaces()?;\n```\n\n**API Endpoints to Add**:\n\n1. `GET /api/config/strategic-types`\n   - Returns: `{\"strategic_types\": [\"milestone\", \"epic\"]}`\n   - Source: config.toml → type_hierarchy.strategic_types\n   \n2. `GET /api/config/hierarchy`\n   - Returns: `{\"types\": {\"milestone\": 1, \"epic\": 2, ...}, \"strategic_types\": [...]}`\n   - Source: config.toml → type_hierarchy section\n   \n3. `GET /api/config/namespaces`\n   - Returns: `{\"namespaces\": {\"type\": {...}, \"epic\": {...}, ...}}`\n   - Source: config.toml → namespaces section\n\n**Implementation Notes**:\n- Use ConfigManager.load() and ConfigManager.get_namespaces()\n- Do NOT reference labels.json (deleted)\n- Handle missing config gracefully (return defaults)\n- Add tests for each endpoint\n\n## Frontend Work\n\n1. Add API client methods:\n   ```typescript\n   apiClient.getStrategicTypes(): Promise<string[]>\n   apiClient.getHierarchy(): Promise<HierarchyConfig>\n   apiClient.getNamespaces(): Promise<Namespaces>\n   ```\n\n2. Fetch on app initialization or GraphView mount\n3. Pass to filterStrategicNodes() and createStrategicFilter()\n4. Remove DEFAULT_STRATEGIC_TYPES hardcoding\n5. Add loading state while fetching config\n\n## Documentation Work (from attached requirements doc)\n\nAfter implementation, update:\n- [ ] docs/reference/example-config.toml - Full schema v2 reference\n- [ ] README.md - Remove labels.json references, mention config.toml\n- [ ] EXAMPLE.md - Show config.toml usage patterns\n- [ ] CHANGELOG.md - Document breaking change (labels.json removal)\n\nSee attached `config-consolidation-documentation-requirements.md` for full details.\n\n## Success Criteria\n\n- [ ] Web UI fetches strategic types from API (no hardcoding)\n- [ ] API uses ConfigManager (not labels.json)\n- [ ] Works with custom strategic_types in config.toml\n- [ ] Documentation updated to reflect config.toml schema v2\n- [ ] Tests pass for all 3 endpoints\n- [ ] Breaking change documented\n\n## Benefits\n\n- Repositories can customize strategic types without changing code\n- Single source of truth: config.toml\n- Web UI adapts to repository configuration\n- Documentation complete for future contributors",
  "state": "in_progress",
  "priority": "normal",
  "assignee": "agent:copilot",
  "dependencies": [
    "7b7df884-8335-4c2a-8555-a7d5a541a0f0"
  ],
  "gates_required": [
    "tests",
    "code-review"
  ],
  "gates_status": {},
  "context": {},
  "documents": [
    {
      "path": "dev/active/config-consolidation-documentation-requirements.md",
      "commit": null,
      "label": "Documentation Requirements",
      "doc_type": null,
      "format": "markdown"
    }
  ],
  "labels": [
    "type:task",
    "component:api",
    "component:web",
    "milestone:v1.0"
  ]
}
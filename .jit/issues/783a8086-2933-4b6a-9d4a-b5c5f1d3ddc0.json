{
  "id": "783a8086-2933-4b6a-9d4a-b5c5f1d3ddc0",
  "title": "Phase 1: Milestone windowing + exploration DAG",
  "description": "## Objective\n\nProvide immediate relief from width/height explosion by implementing hierarchy-agnostic primary tier windowing and exploration graph structure. This phase keeps the existing dagre layout but prepares the data layer for custom layout.\n\n## Hierarchy-Agnostic Approach\n\n**Key insight:** JIT's type hierarchy is fully configurable with numeric levels and label associations. We must NOT hardcode type names like \"milestone\" or \"epic\".\n\n**Configuration model:**\n```typescript\n{\n  types: { milestone: 1, epic: 2, story: 3, task: 4, bug: 4 },\n  strategic_types: [\"milestone\", \"epic\"],\n  label_associations: { epic: \"epic\", milestone: \"milestone\", story: \"story\" }\n}\n```\n\n**Tier terminology:**\n- **Tier/Level N:** All types with same numeric level (e.g., level 4 = [task, bug, enhancement])\n- **Primary tier (level 1):** Lowest numeric level - defines chronological axis\n- **Secondary tier (level 2):** Second lowest level - provides grouping structure\n- **Tactical tiers (level 3+):** Higher levels - leaf work items\n\nThis works with ALL hierarchy templates:\n- Default: milestone(1) → epic(2) → story(3) → task(4)\n- Agile: release(1) → epic(2) → story(3) → task(4)\n- Extended: program(1) → milestone(2) → epic(3) → story(4) → task(5)\n- Minimal: milestone(1) → task(2)\n\n## Implementation Plan\n\n### Step 1: Hierarchy-agnostic tier indexing ✅\n- Parse config into level-based tiers\n- Support multiple types per level\n- Use label_associations for parent matching\n- Derive primary tier index for any node\n\n### Step 2: Relevance scoring ✅\n- 5-factor algorithm for importance ranking\n- Works with any type configuration\n\n### Step 3: Exploration graph builder ✅ (REFACTORED)\n- Refactored to use numeric levels not type names\n- Window primary tier (show last N items)\n- Progressive disclosure within tiers\n- Virtual nodes for collapsed content\n- Budget-based item visibility\n\n### Step 4: GraphView integration (TODO)\n- Fetch hierarchy config from API\n- Build exploration graph before layout\n- Render virtual nodes with expansion controls\n- Dynamic UI labels from config\n- Wire up expansion state\n\n## Success Criteria\n- Width proportional to visible primary tier items (not total graph size)\n- Height controlled by budgets and progressive disclosure\n- Works with default/agile/extended/minimal hierarchy templates\n- Deterministic output (stable ordering)\n- All tests passing with TDD approach",
  "state": "in_progress",
  "priority": "normal",
  "assignee": "agent:copilot-session",
  "dependencies": [],
  "gates_required": [
    "tdd-reminder",
    "code-review"
  ],
  "gates_status": {
    "tdd-reminder": {
      "status": "passed",
      "updated_by": "agent:copilot-session",
      "updated_at": "2026-02-04T17:51:01.770336500Z"
    },
    "code-review": {
      "status": "pending",
      "updated_by": null,
      "updated_at": "2026-02-04T14:07:22.850580307Z"
    }
  },
  "context": {},
  "documents": [],
  "labels": [
    "epic:production-polish",
    "component:web",
    "type:task"
  ]
}
{
  "id": "408ed86a-12a5-45ec-8623-5739e14b1cb7",
  "title": "Make doc show work without git",
  "description": "## Problem\n\nCurrently `jit doc show` requires git and fails with 'Not a git repository' error when git is not available. This contradicts the design principle that git should remain optional for jit.\n\n## Current Behavior\n\n```rust\nlet repo = Repository::open(\".\").map_err(|e| anyhow!(\"Not a git repository: {}\", e))?;\n```\n\nThis hard requirement prevents users from viewing document content without git.\n\n## Desired Behavior\n\n`jit doc show` should fall back to reading from filesystem when:\n1. Git repository is not available\n2. `--at` commit parameter is not specified\n3. Document path exists on filesystem\n\n## Implementation Strategy\n\n```rust\n// Pseudo-code\nfn show_document_content(...) -> Result<()> {\n    if at_commit.is_some() || doc.commit.is_some() {\n        // Explicit version request - require git\n        let repo = Repository::open(\".\")?;\n        let content = read_file_from_git(&repo, path, commit)?;\n    } else {\n        // No version specified - try git first, fall back to filesystem\n        match Repository::open(\".\") {\n            Ok(repo) => read_file_from_git(&repo, path, \"HEAD\")?,\n            Err(_) => fs::read_to_string(path)?,\n        }\n    }\n}\n```\n\n## Benefits\n\n- Makes jit truly git-optional\n- Better user experience for non-git workflows\n- Consistent with jit's design philosophy\n- Tests won't need git commits just to verify doc show works\n\n## Acceptance Criteria\n\n1. `jit doc show <id> <path>` works without git when no commit specified\n2. `jit doc show <id> <path> --at <commit>` still requires git (expected)\n3. Clear error message if version requested but git unavailable\n4. Existing git-based functionality unchanged\n5. Tests updated to cover both git and non-git scenarios",
  "state": "done",
  "priority": "normal",
  "assignee": "agent:copilot-session",
  "dependencies": [],
  "gates_required": [],
  "gates_status": {},
  "context": {},
  "documents": [],
  "labels": [
    "epic:production-polish",
    "type:enhancement"
  ]
}
{
  "id": "32f804f1-9c96-40d4-b9aa-94e3fbf1cd7d",
  "title": "CLI ergonomics improvements",
  "description": "Collection of CLI UX improvements identified during agent usage.\n\n## Improvements Identified\n\n### 1. Accept Plural Flags ✅ DONE\n**Status:** Already implemented - both comma-separated and multiple flags work.\n- `--gate tests,clippy` ✅\n- `--gate tests --gate clippy` ✅\n- Same for `--label`\n\n### 2. Smart Assignee Handling ❌ REJECTED\n**Reason:** Explicit format `type:identifier` is clearer for orchestration and avoids ambiguity.\n\n### 3. Workflow Shortcuts ❌ REJECTED\n**Reason:** Explicit commands are better for clarity and auditability. Shortcuts may hide important steps.\n\n### 4. Discovery Commands - JSON Sorting ✅ IMPLEMENTED\n**Issue:** `jit query available` JSON output was not sorted by priority (unlike human-readable output)\n**Fix:** Added priority sorting to `query_available()` - JSON now matches human output (Critical > High > Normal > Low)\n**Commit:** Merged to main\n\n### 5. Issue Context Memory ❌ REJECTED\n**Reason:** Explicit IDs are clearer for scripting and multi-issue workflows. Context memory adds complexity and ambiguity.\n\n### 6. Better Dependency Display ✅ IMPLEMENTED\n**Previous:** Showed dependencies as raw UUIDs in arrays\n**Improvements implemented:**\n- Enhanced `jit issue show` with formatted dependency list (state symbols, short IDs, titles, states)\n- Added `--depth` parameter to `jit graph deps` (1=immediate, 0=unlimited)\n- Tree structure visualization with proper symbols (├─, └─, │)\n- Diamond detection for shared dependencies\n- Summary statistics (X/Y complete, counts by state)\n- Removed redundant `jit graph show` command\n- Standardized short ID implementation (8 chars) across codebase\n**See attached plan:** dev/active/dependency-display-improvements-plan.md\n\n### 7. Undo Operations ✅ IMPLEMENTED / ❌ REJECTED\n- `jit issue unclaim <id>` → ✅ ALREADY IMPLEMENTED as `jit issue unassign` (same behavior, different verb)\n- `jit gate unpass <id> <key>` → ❌ REJECTED. `jit gate fail` already exists as the counterpart to `jit gate pass`. Adding a third \"reset to pending\" state adds complexity without clear benefit — failing a gate is auditable and communicates \"needs re-attention\" with explicit semantics.\n\n### 8. Bulk Operations ✅ IMPLEMENTED\n**Already implemented via `jit issue update --filter`.**\n- Filter supports boolean query syntax: `state:ready`, `label:type:task`, AND/OR/NOT\n- `add_gate`/`remove_gate` pass through to `UpdateOperations` in bulk mode\n\nExamples:\n```bash\n# Label all ready issues\njit issue update --filter \"state:ready\" --label milestone:v1.0\n\n# Batch state update by type\njit issue update --filter \"label:type:task\" --state gated\n```\n\n### 9. CLI Argument Consistency ✅ IMPLEMENTED\n**Issue:** Inconsistent comma-delimiter support across flagged arguments\n**Industry Standard (cargo, kubectl):**\n- Flagged args: Support BOTH comma AND repeated flags  \n- Positional args: Space-separated ONLY\n\n**Previous state:**\n- `--gate` supported commas ✅ (e.g., `--gate tests,clippy,fmt`)\n- `--label` did NOT support commas ❌\n- Positional `jit gate add <id> gate1 gate2` was space-only (correct per Unix convention)\n\n**Fix:** Added `value_delimiter = ','` to ALL flagged Vec arguments:\n- `--label` on create/update: `--label epic:auth,type:task` now works\n- `--remove-label`: `--remove-label label1,label2` now works\n- `--subtask`: `--subtask \"Task 1\",\"Task 2\"` now works\n- `--description`: `--description \"Desc 1\",\"Desc 2\"` now works\n- `--except`: `--except gate1,gate2` now works\n\n**Positional arguments unchanged (correctly space-separated):**\n- `jit gate add <id> gate1 gate2 gate3` ✅ Space-separated (Unix standard)\n- `jit dep add <from> to1 to2 to3` ✅ Space-separated (Unix standard)\n- Comma-separated positional args would violate Unix conventions\n\n**Commit:** d94e8b5\n\n### 10. Breakdown Inheritance ✅ IMPLEMENTED\n**Previous:** `jit issue breakdown` inherited labels but NOT gates\n**Fix:** Added three gate handling patterns (mutually exclusive):\n- Default: No gates (user applies manually later)\n- `--gate-preset <name>`: Apply preset to all subtasks\n- `--inherit-gates`: Copy parent's gates to all subtasks\n**Commit:** 190424e\n\n### 11. Breakdown Label Type ✅ IMPLEMENTED\n**Previous:** `jit issue breakdown` copied parent's `type:story` to subtasks\n**Fix:** Added required `--child-type` argument for explicit type control\n- Parent labels preserved (epic, milestone, component, etc.)\n- Parent's `type:` label replaced with specified child type\n**Commit:** 190424e\n\n### 12. JSON Output Inconsistency ✅ IMPLEMENTED\n**Issue:** Different commands had different JSON structures\n**Fix:** Standardized JSON output structure across all commands\n\n**Changes made (version 0.2.0 → 0.2.1):**\n1. `gate list --json`: Changed from array to `{gates: [], count: N}`\n2. `label namespaces --json`: Simplified from full config to `{namespaces: [], count: N}`\n3. `query all --json`: Removed redundant `filters` field\n4. `search --json`: Renamed `total` to `count` for consistency\n5. `worktree list --json`: Added missing `count` field (non-breaking)\n\n**All list commands now follow pattern:** `{<items>: [], count: N}`\n\n**Migration guide:** See dev/active/json-output-standardization-plan.md\n**Commit:** 79bb025\n\n### 13. Batch Update Limitations ✅ IMPLEMENTED\n**Previous description:** `jit issue update --filter` doesn't support adding `gates_required`\n**Resolution:** This limitation no longer exists. `UpdateOperations` in `bulk_update.rs` includes `add_gates` and `remove_gates`, fully supported in batch mode via `--filter`.\n\n## Status\n- All items evaluated and resolved.\n- Items 1, 4, 6, 7a, 8, 9, 10, 11, 12, 13: ✅ IMPLEMENTED\n- Items 2, 3, 5, 7b: ❌ REJECTED (with documented rationale)",
  "state": "done",
  "priority": "normal",
  "assignee": "agent:copilot-cli",
  "dependencies": [],
  "gates_required": [],
  "gates_status": {},
  "context": {},
  "documents": [
    {
      "path": "dev/active/dependency-display-improvements-plan.md",
      "commit": null,
      "label": "Implementation Plan",
      "doc_type": "design"
    },
    {
      "path": "dev/active/breakdown-analysis.md",
      "commit": null,
      "label": "Breakdown Analysis",
      "doc_type": "design",
      "format": "markdown"
    },
    {
      "path": "dev/active/breakdown-improvement-plan.md",
      "commit": null,
      "label": "Breakdown Fix Plan",
      "doc_type": "design",
      "format": "markdown"
    },
    {
      "path": "dev/active/json-output-standardization-plan.md",
      "commit": null,
      "label": "Item 12 Implementation Plan",
      "doc_type": "design",
      "format": "markdown"
    }
  ],
  "labels": [
    "type:task",
    "epic:production-polish",
    "component:cli"
  ],
  "created_at": "2025-12-27T20:47:03.229031692Z",
  "updated_at": "2026-02-17T19:10:35.402339303+00:00"
}
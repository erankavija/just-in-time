{
  "id": "7051d24e-c804-4231-9a60-d1046ef45dde",
  "title": "Story: Configuration System",
  "description": "Implement configuration system for worktree mode, lease enforcement, and coordination settings.\n\n## Goal\n\nProvide flexible configuration to support different deployment scenarios from single-agent sequential work to multi-agent parallel coordination.\n\n## Tasks\n\n1. **Repository config schema** - `.jit/config.toml` with worktree and coordination sections\n2. **Agent config** - `~/.config/jit/agent.toml` for persistent agent identity\n3. **Worktree mode setting** - `auto`, `on`, `off` modes for feature enablement\n4. **Enforcement mode setting** - `strict`, `warn`, `off` for lease enforcement\n5. **TTL and heartbeat settings** - Configurable defaults for lease management\n6. **Config commands** - `jit config show/get/set/validate`\n7. **Environment variable overrides** - `JIT_AGENT_ID` and similar\n\n## Success Criteria\n\n- Sequential workflows unaffected when `worktree.mode = \"off\"`\n- Configuration loading follows documented priority order\n- `jit config show` displays effective merged configuration\n- All settings documented with examples\n- Invalid configuration rejected with clear error messages\n\n## References\n\nSee design document `dev/design/worktree-parallel-work.md`:\n- Section \"Configuration\" for schema and loading order\n- Section \"Repository Configuration\" for `.jit/config.toml` schema\n- Section \"Agent Configuration\" for `~/.config/jit/agent.toml` schema\n\n## Dependencies\n\nRequires Story: Worktree Foundation Infrastructure (paths for config files)",
  "state": "ready",
  "priority": "normal",
  "assignee": null,
  "dependencies": [
    "d41c6a08-81ce-491f-8bf9-6aab78febcbf",
    "d1d7c7fc-5fac-4538-b85f-5c558c61804b",
    "3a043943-7f75-40a9-8cf1-13592e903972",
    "68987812-bb01-4c98-87dd-71c6a0d4c949",
    "765f06b2-f0cc-4805-9692-0a80efd77aed",
    "aeae2290-3acb-4b1b-9e92-755fa8740a6e"
  ],
  "gates_required": [
    "tdd-reminder",
    "tests",
    "clippy",
    "fmt",
    "code-review"
  ],
  "gates_status": {},
  "context": {},
  "documents": [
    {
      "path": "dev/design/worktree-parallel-work.md",
      "commit": null,
      "label": "Design Document",
      "doc_type": "design",
      "format": "markdown",
      "assets": [
        {
          "original_path": "https://git-scm.com/docs/git-worktree",
          "resolved_path": null,
          "asset_type": "external",
          "mime_type": null,
          "content_hash": null,
          "is_shared": false
        },
        {
          "original_path": "https://automerge.org/",
          "resolved_path": null,
          "asset_type": "external",
          "mime_type": null,
          "content_hash": null,
          "is_shared": false
        },
        {
          "original_path": "https://github.com/ulid/spec",
          "resolved_path": null,
          "asset_type": "external",
          "mime_type": null,
          "content_hash": null,
          "is_shared": false
        },
        {
          "original_path": "https://docs.rs/fs4/",
          "resolved_path": null,
          "asset_type": "external",
          "mime_type": null,
          "content_hash": null,
          "is_shared": false
        }
      ]
    }
  ],
  "labels": [
    "type:story",
    "epic:parallel-work",
    "milestone:v1.0",
    "component:cli"
  ]
}
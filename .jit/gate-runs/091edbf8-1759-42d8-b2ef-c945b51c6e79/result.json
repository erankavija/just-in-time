{
  "schema_version": 1,
  "run_id": "091edbf8-1759-42d8-b2ef-c945b51c6e79",
  "gate_key": "fmt",
  "stage": "postcheck",
  "issue_id": "26893ec6-2110-4e2c-b787-45b85664caaa",
  "commit": "6085cfaba0e47c8cbd2a76b1ea7a32a8d14667d1",
  "branch": "feature/worktree-parallel-work",
  "status": "failed",
  "started_at": "2026-02-02T10:23:48.451342966Z",
  "completed_at": "2026-02-02T10:23:48.853706031Z",
  "duration_ms": 402,
  "exit_code": 1,
  "stdout": "Diff in /home/vkaskivuo/Projects/just-in-time/crates/jit/src/storage/claim_coordinator.rs:1252:\n     fn test_rebuild_detects_sequence_gaps() {\n         let temp_dir = TempDir::new().unwrap();\n         let coordinator = setup_coordinator(&temp_dir);\n\u001b[31m-        \n\u001b[m\u000f\u001b[32m+\n\u001b[m\u000f         // Create log with gap: sequences 1, 2, 4 (missing 3)\n         let log_path = temp_dir.path().join(\".git/jit/claims.jsonl\");\n         fs::create_dir_all(log_path.parent().unwrap()).unwrap();\nDiff in /home/vkaskivuo/Projects/just-in-time/crates/jit/src/storage/claim_coordinator.rs:1259:\n\u001b[31m-        \n\u001b[m\u000f\u001b[32m+\n\u001b[m\u000f         let entry1 = ClaimLogEntry {\n             schema_version: 1,\n             seq: 1,\nDiff in /home/vkaskivuo/Projects/just-in-time/crates/jit/src/storage/claim_coordinator.rs:1275:\n                 },\n             },\n         };\n\u001b[31m-        \n\u001b[m\u000f\u001b[32m+\n\u001b[m\u000f         let entry2 = ClaimLogEntry {\n             schema_version: 1,\n             seq: 2,\nDiff in /home/vkaskivuo/Projects/just-in-time/crates/jit/src/storage/claim_coordinator.rs:1294:\n                 },\n             },\n         };\n\u001b[31m-        \n\u001b[m\u000f\u001b[32m+\n\u001b[m\u000f         // Skip seq 3, jump to 4\n         let entry4 = ClaimLogEntry {\n             schema_version: 1,\nDiff in /home/vkaskivuo/Projects/just-in-time/crates/jit/src/storage/claim_coordinator.rs:1314:\n                 },\n             },\n         };\n\u001b[31m-        \n\u001b[m\u000f\u001b[32m+\n\u001b[m\u000f         let mut file = fs::OpenOptions::new()\n             .create(true)\n             .write(true)\nDiff in /home/vkaskivuo/Projects/just-in-time/crates/jit/src/storage/claim_coordinator.rs:1321:\n             .open(&log_path)\n             .unwrap();\n\u001b[31m-        \n\u001b[m\u000f\u001b[32m+\n\u001b[m\u000f         use std::io::Write;\n         writeln!(file, \"{}\", serde_json::to_string(&entry1).unwrap()).unwrap();\n         writeln!(file, \"{}\", serde_json::to_string(&entry2).unwrap()).unwrap();\nDiff in /home/vkaskivuo/Projects/just-in-time/crates/jit/src/storage/claim_coordinator.rs:1327:\n         writeln!(file, \"{}\", serde_json::to_string(&entry4).unwrap()).unwrap();\n         drop(file);\n\u001b[31m-        \n\u001b[m\u000f\u001b[32m+\n\u001b[m\u000f         // Should succeed but detect gap\n         let rebuilt = coordinator.rebuild_index_from_log().unwrap();\n\u001b[31m-        \n\u001b[m\u000f\u001b[32m+\n\u001b[m\u000f         // Should still work despite gap\n         assert_eq!(rebuilt.leases.len(), 3);\n         assert_eq!(rebuilt.last_seq, 4);\nDiff in /home/vkaskivuo/Projects/just-in-time/crates/jit/src/storage/claim_coordinator.rs:1336:\n\u001b[31m-        assert!(rebuilt.sequence_gaps.contains(&3), \"Should detect missing sequence 3\");\n\u001b[m\u000f\u001b[32m+        assert!(\n\u001b[m\u000f\u001b[32m+            rebuilt.sequence_gaps.contains(&3),\n\u001b[m\u000f\u001b[32m+            \"Should detect missing sequence 3\"\n\u001b[m\u000f\u001b[32m+        );\n\u001b[m\u000f     }\n \n     #[test]\n",
  "stderr": "",
  "command": "cargo fmt -- --check",
  "by": "auto:executor",
  "message": null
}